<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Oggetto email</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../css/reveal.css">
    <link rel="stylesheet" href="../../css/theme/black.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../../lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( '/print-pdf/gi' ) ? '../css/print/pdf.css' : '../css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="../../lib/js/html5shiv.js"></script>
    <![endif]-->

    <style>
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .reveal .progress {
            color: #f1c02c !important;
        }

        .reveal .controls .controls-arrow:before, .reveal .controls .controls-arrow:after {
            background-color: #f1c02c;
        }
    </style>
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h2  style="color: #f1c02c;">Oggetto email</h2>
        </section>
        <section>
            <section>
                <h2>Why?</h2>
                <ul>
                    <li><b style="color: #f1c02c;">Меньше времени</b> уходит на вёрстку</li>
                    <li><b style="color: #f1c02c;">Легче вносить правки</b><br>по комментариям от клиента</li>
                    <li><b style="color: #f1c02c;">Больше удовольствия</b> от процесса</li>
                </ul>

                <aside class="notes">
                    Рассказать про недостатки обычной вёрстки писем:<br>
                    (Зачем вообще нужна сборка?)<br>
                    1. Много копирования больших html файлов, из-за чего
                        - легко допустить ошибку
                        - для работы требуется много внимательности
                        - это очень рутинный процесс, многократное повторение одного и того же
                        - велика вероятность, что письмо поломается в каком-то почтовом клиенте
                    2.
                </aside>
            </section>
        </section>
        <section>
            <section>
                <h2>Handlebars</h2>
                <pre><code class="hljs" data-trim contenteditable>
                    // Подключение хэдера и задание сниппета
                    {{> header snippet="Cool email"}}

                    // Подключение картинки `banner.jpg`
                    // и задание ей ширины (678px)
                    //
                    // Адаптивность присутствует!
                    {{> img name="banner.jpg" width=678}}

                    // Подключение текстового темплейта (тайтл)
                    {{> text text="Oggetto email" color="#f1c02c;" }}

                    // Подключение футера
                    {{> footer}}
					</code></pre>

                <aside class="notes">
                    Основной концепт этой сборки - вынесение всего, что можно, в отдельные темплейты.<br><br>
                    Благодаря этому можно верстать письма, вообще без html. <br><br>
                    Хэдер, футер, кнопки, изображения, текст - всё это уже написано в отдельных файлах, и мы их только подключаем,
                    передавая им разные параметры.
                </aside>
            </section>
            <section>
                <h3>Результат</h3>
                <img src="img/fpc.png">
            </section>
        </section>
        <section>
            <section>
                <blockquote>"А если у меня нет времени на то, чтобы разбираться со&nbsp;сборкой?"</blockquote>
                <div class="fragment">
                    <h5><br>Сборку можно использовать просто</h5>
                    <pre><code class="hljs" data-trim contenteditable>
                    {{> header snippet="My snippet"}}

                    <!-- html код письма -->

                    {{> spacer height=20 }}

                    <!-- html код письма -->

                    {{> footer}}
					</code></pre>
                </div>
                <aside class="notes">
                    Базовый уровень: просто хэдер и футер. + Можно использовать сборку для тестирования в литмусе
                    + Можно использовать задать margin: 0; border: 0; padding: 0; для всех проектов.<br>
                    Чуть сложнее: ещё используется spacer, которому задаётся высота, и можно задавать относительную ссылку
                </aside>
            </section>
            <section style="position: absolute; left: -25%; width: 150%;">
                <h2>Spacer</h2>
                <img style="border: none;" src="img/spacer.png">
                <aside class="notes">
                    Рассказать, что если нужно, в спейсер можно передавать ссылку.
                </aside>
            </section>
        </section>
        <section>
            <section>
                <h2>Полный функционал</h2>
            </section>
            <section data-background="img/email1.png"></section>
        </section>
        <section>
            <section>
                <h2>Структура проекта</h2>
                <img src="img/main-structure.jpg" style="width: auto;">
                <aside class="notes">
                    <b>dist</b> - туда помещаются письма после сборки.<br>
                    <b>partials</b> - общие стили/темплейты/картинки для всех проектов/какого-то конретного проекта
                    (Пример: хэдер, футер, картинки для него.)<br>
                    <b>index.js</b> - скрипт, который запускает саму сборку<br>
                    <b>send-data.json</b> - файл, в котором хранятся данные, необходимые для отправки писем,
                    а также для доступа к серверу по SSH.<br>
                    <b>send-data-example.json</b> - пример для send-data.json, без логина и пароля к серверу.<br>
                </aside>
            </section>
            <section>
                <h2>Структура src</h2>
                <img src="img/src-structure.jpg" style="width: auto;">

                <pre><code class="hljs" data-trim contenteditable>
                    // Само письмо находится по адресу
                    src/$projectName/$emailName/index.handlebars

                    // И картинки для него:
                    src/$projectName/$emailName/img
					</code></pre>

                <aside class="notes">
                    В письме есть доступ к переменной <b>projectName</b> (пишется через camelCase) -
                    она как раз соответствует названию папки, в которой лежит письмо.<br>
                    Это можно использовать например, чтобы в темплейте не хардкодить ссылку на сайт.
                </aside>
            </section>
            <section>
                <h2>Структура partials</h2>
                <div style="display: flex; justify-content: space-between">
                    <div style="width: 45%;">
                        <img src="img/partials-structure.jpg" style="width: 85%;">
                    </div>

                    <div style="width: 100%;">
                        <pre><code class="hljs" data-trim contenteditable>
                            // Темплейты для ВСЕХ проектов
                            partials/common/*.handlebars

                            // Стили для ВСЕХ проектов (тэг style)
                            partials/common/less/style-common.less

                            // Стили для ВСЕХ проектов (inline)
                            partials/common/less/inline-common.less

                            // Темплейты для конкретного проекта
                            partials/$projectName/*.handlebars

                            // Картинки для конкретного проекта
                            partials/$projectName/img
		    			</code></pre>
                    </div>
                </div>

                <aside class="notes">
                    <b>Темплейты для всех проектов</b> - общие темплейты, которые у нас встречаются везде,
                    практически в каждом письме.<br>
                    <b>Простые примеры:</b> спейсер, кнопка, любое изображение, текст. Они общие для всех проектов, но
                    у них разные дефолтные значения (например шрифт и цвет фона у кнопки). Эти дефолтные значение задаются в темплейтах,
                    специфических для каждого проекта, после чего передаются в общий темплейт<br>
                    <b>Подпример:</b> 'btn-base' в папке common - свёрстанная кнопка, которая может использоваться на всех проектах.
                    'btn' в папке Kerastase просто обёртка под btn-base, которая задаёт специфические для проекта дефолтные значения.
                    <b>Примеры посложнее:</b> темплейт col.start, col.middle, col.end для расположения чего-либо
                    рядом друг с другом (обычно 2 или 3 колонки).<br><br>

                    <b>Картинки для конкретного проекта</b> - обычно это картинки для хэдера и футера.<br><br>

                    <b>Темплейты для конкретного проекта:</b><br>
                    <b>Простые примеры:</b> хэдер, футер. <br>
                    <b>Задание дефолтных значений (примеры):</b> кнопка, текст.
                </aside>
            </section>
            <section>
                <h2>Структура dist</h2>
                <img src="img/dist-structure.jpg" style="width: auto;">

                <pre><code class="hljs" data-trim contenteditable>
                    // Итоговая версия письма лежит в папке
                    dist/$projectName/$emailName/
					</code></pre>
            </section>
        </section>
        <section>
            <h3>Дополнительные возможности</h3>
            <ul>
                <li><span style="color: #f1c02c;">Тестирование</span> на Litmus <span style="color: #f1c02c;">с картинками</span> -<br>
                    <span>команда <b>npm run deploy</b> загружает изображения на наш сервер и автоматически изменяет пути к ним в html</span>
                </li>
                <li><span style="color: #f1c02c;">Мгновенная</span> отправка письма любому адресату прямо из командной строки
                </li>
            </ul>
        </section>
        <section>
            <section>
                <h2>Как начать использовать?</h2>
                <ol style="font-size: 30px;">
                    <li style="font-size: 30px;">Получить доступ в репозиторий со сборкой и склонировать его</li>
                    <li style="font-size: 30px;">Создать файл <b style="color: #f1c02c;">send-data.json</b> из файла <b style="color: #f1c02c;">send-data-example.json</b></li>
                    <li>Попросить у админов доступ на сервер <b style="color: #f1c02c;">email.l.oggy.co</b><br>(в группу emaildev)</li>
                    <li>Вставить полученные логин и пароль в <b style="color: #f1c02c;">send-data.json</b></li>
                    <li>Сделать <b style="color: #f1c02c;">npm install</b></li>
                    <li><b style="color: #f1c02c;">Дополнительно:</b> установить плагин handlebars для phpStorm для подсветки синтаксиса</li>
                </ol>
            </section>
            <section>
                <h2>Команды сборки</h2>
                <ul>
                    <li><b style="color: #f1c02c;">npm run dev</b> - основная команда, режим разработки</li>
                    <li><b style="color: #f1c02c;">npm run prod</b> - production режим, из папки <b>dist</b> удаляются временные файлы</li>
                    <li><b style="color: #f1c02c;">npm run deploy</b> - режим для тестирования в литмусе (картинки грузятся на сервер)</li>
                    <li><b style="color: #f1c02c;">npm run send</b> отправка письма на email, указанный в send-data.json</li>
                </ul>
            </section>
        </section>
        <section>
            <h2>Спасибо за внимание</h2>
        </section>
    </div>
</div>

<script src="../../lib/js/head.min.js"></script>
<script src="../../js/reveal.js"></script>

<script>

    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            { src: '../../lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: '../../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '../../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '../../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: '../../plugin/search/search.js', async: true },
            { src: '../../plugin/zoom-js/zoom.js', async: true },
            { src: '../../plugin/notes/notes.js', async: true }
        ]
    });

</script>

</body>
</html>
